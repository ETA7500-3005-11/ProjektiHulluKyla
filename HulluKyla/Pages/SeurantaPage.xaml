<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="HulluKyla.Pages.SeurantaPage">

    <Grid RowDefinitions="Auto,Auto,Auto,Auto,*">

        <!-- Asiakasvalinta -->
        <Picker x:Name="AsiakasPicker"
                Grid.Row="0"
                Title="Valitse asiakas"
                ItemDisplayBinding="{Binding KokoNimi}"
                SelectedIndexChanged="AsiakasPicker_SelectedIndexChanged"
                TextColor="White"/>

        <!-- Maksamattomat toggle + teksti -->
        <StackLayout Grid.Row="1"
                     Orientation="Horizontal"
                     Padding="5">
            <Switch x:Name="MaksamattomatSwitch"
                    Toggled="MaksamattomatSwitch_Toggled"
                    HorizontalOptions="Start"/>
            <Label Text="Vain maksamattomat"
                   VerticalOptions="Center"
                   TextColor="White"
                   Margin="10,0,0,0"/>
        </StackLayout>

        <!-- Sarakeotsikot -->
        <Grid Grid.Row="2" ColumnDefinitions="*,*,*"
              Padding="5" Margin="0,5">
            <Label Text="Lasku ID" TextColor="Gray" FontAttributes="Bold"/>
            <Label Text="Varaus ID" TextColor="Gray" FontAttributes="Bold" Grid.Column="1"/>
            <Label Text="Summa" TextColor="Gray" FontAttributes="Bold" Grid.Column="2" HorizontalTextAlignment="End"/>
        </Grid>

        <!-- Laskulista -->
        <CollectionView x:Name="LaskuLista" Grid.Row="3">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Grid ColumnDefinitions="*,*,*"
                          Padding="5" Margin="0,5">
                        <Label Text="{Binding LaskuId}" TextColor="White" Grid.Column="0" VerticalOptions="Center"/>
                        <Label Text="{Binding VarausId}" TextColor="White" Grid.Column="1" VerticalOptions="Center"/>
                        <Label Text="{Binding Summa, StringFormat='{0:0.00} euroa'}"
                               TextColor="White"
                               HorizontalTextAlignment="End"
                               Grid.Column="2"
                               VerticalOptions="Center"/>
                    </Grid>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

        <!-- Etusivu-nappi -->
        <Button Text="Etusivu"
                Grid.Row="4"
                Clicked="Navigoi_Clicked"
                CommandParameter="Etusivu"
                HorizontalOptions="Start"
                VerticalOptions="End"
                Margin="10"
                BackgroundColor="LightGray"
                CornerRadius="20"
                WidthRequest="100" />

    </Grid>
</ContentPage>
